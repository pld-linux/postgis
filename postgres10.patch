--- postgis-2.2.1/configure.ac~	2016-01-04 14:41:51.000000000 +0000
+++ postgis-2.2.1/configure.ac	2018-05-11 05:13:36.828542689 +0000
@@ -431,8 +431,8 @@
   dnl Extract the version information from pg_config
   dnl Note: we extract the major & minor separately, ensure they are numeric, and then combine to give
   dnl the final version. This is to guard against user error... 
-  PGSQL_MAJOR_VERSION=`$PG_CONFIG --version | sed 's/[[^0-9]]*\([[0-9]]\)\.\([[0-9]]\).*/\1/'`
-  PGSQL_MINOR_VERSION=`$PG_CONFIG --version | sed 's/[[^0-9]]*\([[0-9]]\)\.\([[0-9]]\).*/\2/'`
+  PGSQL_MAJOR_VERSION=`$PG_CONFIG --version | sed 's/[[^0-9]]*\([[0-9]]\+\)\.\([[0-9]]\).*/\1/'`
+  PGSQL_MINOR_VERSION=`$PG_CONFIG --version | sed 's/[[^0-9]]*\([[0-9]]\+\)\.\([[0-9]]\).*/\2/'`
   PGSQL_FULL_VERSION=`$PG_CONFIG --version`
   POSTGIS_PGSQL_VERSION="$PGSQL_MAJOR_VERSION$PGSQL_MINOR_VERSION"
 
